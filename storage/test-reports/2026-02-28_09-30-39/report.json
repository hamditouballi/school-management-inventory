{
    "testsuite": {
        "@attributes": {
            "name": "C:\\Users\\hamditou\\school-inventory-system\\phpunit.xml",
            "tests": "18",
            "assertions": "65",
            "errors": "0",
            "failures": "1",
            "skipped": "0",
            "time": "4.873569"
        },
        "testsuite": [
            {
                "@attributes": {
                    "name": "Unit",
                    "tests": "2",
                    "assertions": "2",
                    "errors": "0",
                    "failures": "0",
                    "skipped": "0",
                    "time": "1.813661"
                },
                "testsuite": {
                    "@attributes": {
                        "name": "Tests\\Unit\\InvoiceTest",
                        "file": "tests\\Unit\\InvoiceTest.php",
                        "tests": "2",
                        "assertions": "2",
                        "errors": "0",
                        "failures": "0",
                        "skipped": "0",
                        "time": "1.813661"
                    },
                    "testcase": [
                        {
                            "@attributes": {
                                "name": "invoice calculates total amount correctly from items",
                                "file": "tests\\Unit\\InvoiceTest.php::invoice calculates total amount correctly from items",
                                "class": "Tests\\Unit\\InvoiceTest",
                                "classname": "Tests.Unit.InvoiceTest",
                                "assertions": "1",
                                "time": "1.791086"
                            }
                        },
                        {
                            "@attributes": {
                                "name": "invoice has a type cast for date",
                                "file": "tests\\Unit\\InvoiceTest.php::invoice has a type cast for date",
                                "class": "Tests\\Unit\\InvoiceTest",
                                "classname": "Tests.Unit.InvoiceTest",
                                "assertions": "1",
                                "time": "0.022576"
                            }
                        }
                    ]
                }
            },
            {
                "@attributes": {
                    "name": "Feature",
                    "tests": "16",
                    "assertions": "63",
                    "errors": "0",
                    "failures": "1",
                    "skipped": "0",
                    "time": "3.059908"
                },
                "testsuite": [
                    {
                        "@attributes": {
                            "name": "Tests\\Feature\\AuthTest",
                            "file": "tests\\Feature\\AuthTest.php",
                            "tests": "5",
                            "assertions": "11",
                            "errors": "0",
                            "failures": "0",
                            "skipped": "0",
                            "time": "2.531999"
                        },
                        "testcase": [
                            {
                                "@attributes": {
                                    "name": "it allows a user to login with valid credentials",
                                    "file": "tests\\Feature\\AuthTest.php::it allows a user to login with valid credentials",
                                    "class": "Tests\\Feature\\AuthTest",
                                    "classname": "Tests.Feature.AuthTest",
                                    "assertions": "4",
                                    "time": "0.680545"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it rejects login with invalid credentials",
                                    "file": "tests\\Feature\\AuthTest.php::it rejects login with invalid credentials",
                                    "class": "Tests\\Feature\\AuthTest",
                                    "classname": "Tests.Feature.AuthTest",
                                    "assertions": "2",
                                    "time": "1.091572"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it prevents unauthorized users from accessing protected routes",
                                    "file": "tests\\Feature\\AuthTest.php::it prevents unauthorized users from accessing protected routes",
                                    "class": "Tests\\Feature\\AuthTest",
                                    "classname": "Tests.Feature.AuthTest",
                                    "assertions": "2",
                                    "time": "0.218791"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it allows an authenticated user to access protected routes",
                                    "file": "tests\\Feature\\AuthTest.php::it allows an authenticated user to access protected routes",
                                    "class": "Tests\\Feature\\AuthTest",
                                    "classname": "Tests.Feature.AuthTest",
                                    "assertions": "1",
                                    "time": "0.254929"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it ensures role-based isolation works correctly",
                                    "file": "tests\\Feature\\AuthTest.php::it ensures role-based isolation works correctly",
                                    "class": "Tests\\Feature\\AuthTest",
                                    "classname": "Tests.Feature.AuthTest",
                                    "assertions": "2",
                                    "time": "0.286162"
                                }
                            }
                        ]
                    },
                    {
                        "@attributes": {
                            "name": "Tests\\Feature\\InvoiceCrudTest",
                            "file": "tests\\Feature\\InvoiceCrudTest.php",
                            "tests": "7",
                            "assertions": "19",
                            "errors": "0",
                            "failures": "0",
                            "skipped": "0",
                            "time": "0.211063"
                        },
                        "testcase": [
                            {
                                "@attributes": {
                                    "name": "it can list all invoices",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it can list all invoices",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "2",
                                    "time": "0.034279"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it can create a new invoice with items",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it can create a new invoice with items",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "4",
                                    "time": "0.030453"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it returns validation errors when creating an invoice with invalid data",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it returns validation errors when creating an invoice with invalid data",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "5",
                                    "time": "0.042672"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it can show a specific invoice",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it can show a specific invoice",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "2",
                                    "time": "0.031253"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it returns 404 when showing a non-existent invoice",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it returns 404 when showing a non-existent invoice",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "1",
                                    "time": "0.023943"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it can update an existing invoice",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it can update an existing invoice",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "3",
                                    "time": "0.028008"
                                }
                            },
                            {
                                "@attributes": {
                                    "name": "it can delete an invoice",
                                    "file": "tests\\Feature\\InvoiceCrudTest.php::it can delete an invoice",
                                    "class": "Tests\\Feature\\InvoiceCrudTest",
                                    "classname": "Tests.Feature.InvoiceCrudTest",
                                    "assertions": "2",
                                    "time": "0.020454"
                                }
                            }
                        ]
                    },
                    {
                        "@attributes": {
                            "name": "Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest",
                            "file": "tests\\Feature\\Scenarios\\FinanceManagerScenarioTest.php",
                            "tests": "1",
                            "assertions": "7",
                            "errors": "0",
                            "failures": "1",
                            "skipped": "0",
                            "time": "0.110977"
                        },
                        "testcase": {
                            "@attributes": {
                                "name": "finance manager full workflow scenario",
                                "file": "tests\\Feature\\Scenarios\\FinanceManagerScenarioTest.php::finance manager full workflow scenario",
                                "class": "Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest",
                                "classname": "Tests.Feature.Scenarios.FinanceManagerScenarioTest",
                                "assertions": "7",
                                "time": "0.110977"
                            },
                            "failure": "finance manager full workflow scenarioExpected response status code [200] but received 500.\nFailed asserting that 500 is identical to 200.\r\n\r\nThe following exception occurred during the last request:\n\nPDOException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT in C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:407\nStack trace:\n#0 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(407): PDO->prepare('select DATE_FOR...')\n#1 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(812): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('select DATE_FOR...', Array)\n#2 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(779): Illuminate\\Database\\Connection->runQueryCallback('select DATE_FOR...', Array, Object(Closure))\n#3 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(398): Illuminate\\Database\\Connection->run('select DATE_FOR...', Array, Object(Closure))\n#4 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3106): Illuminate\\Database\\Connection->select('select DATE_FOR...', Array, true)\n#5 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3091): Illuminate\\Database\\Query\\Builder->runSelect()\n#6 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3676): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()\n#7 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3090): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))\n#8 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(811): Illuminate\\Database\\Query\\Builder->get(Array)\n#9 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(793): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)\n#10 C:\\Users\\hamditou\\school-inventory-system\\app\\Http\\Controllers\\Api\\StatsController.php(53): Illuminate\\Database\\Eloquent\\Builder->get()\n#11 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(47): App\\Http\\Controllers\\Api\\StatsController->spending(Object(Illuminate\\Http\\Request))\n#12 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(266): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\StatsController), 'spending')\n#13 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(212): Illuminate\\Routing\\Route->runController()\n#14 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(808): Illuminate\\Routing\\Route->run()\n#15 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(170): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#16 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(51): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#17 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#18 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(64): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#19 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'sanctum')\n#20 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(127): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#21 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(807): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#22 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(786): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n#23 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(750): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))\n#24 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(739): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#25 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(201): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#26 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(170): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))\n#27 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#28 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#29 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#30 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#31 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(51): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#32 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#33 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#34 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#35 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(110): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#36 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#37 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#38 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#39 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(58): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#40 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#41 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks.php(22): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#42 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#43 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(127): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#44 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(176): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#45 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(145): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n#46 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Testing\\Concerns\\MakesHttpRequests.php(607): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n#47 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Testing\\Concerns\\MakesHttpRequests.php(573): Illuminate\\Foundation\\Testing\\TestCase->call('GET', '\/api\/stats\/spen...', Array, Array, Array, Array, '[]')\n#48 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Testing\\Concerns\\MakesHttpRequests.php(381): Illuminate\\Foundation\\Testing\\TestCase->json('GET', '\/api\/stats\/spen...', Array, Array, 0)\n#49 C:\\Users\\hamditou\\school-inventory-system\\tests\\Feature\\Scenarios\\FinanceManagerScenarioTest.php(93): Illuminate\\Foundation\\Testing\\TestCase->getJson('\/api\/stats\/spen...')\n#50 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Factories\\TestCaseMethodFactory.php(168): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->{closure}()\n#51 [internal function]: P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->Pest\\Factories\\{closure}()\n#52 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Concerns\\Testable.php(419): call_user_func_array(Object(Closure), Array)\n#53 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Support\\ExceptionTrace.php(26): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->Pest\\Concerns\\{closure}()\n#54 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Concerns\\Testable.php(419): Pest\\Support\\ExceptionTrace::ensure(Object(Closure))\n#55 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Concerns\\Testable.php(321): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->__callClosure(Object(Closure), Array)\n#56 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Factories\\TestCaseFactory.php(169) : eval()'d code(17): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->__runTest(Object(Closure))\n#57 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestCase.php(1667): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->__pest_evaluable_finance_manager_full_workflow_scenario()\n#58 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestCase.php(519): PHPUnit\\Framework\\TestCase->runTest()\n#59 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestRunner\\TestRunner.php(87): PHPUnit\\Framework\\TestCase->runBare()\n#60 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestCase.php(365): PHPUnit\\Framework\\TestRunner->run(Object(P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest))\n#61 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestSuite.php(369): PHPUnit\\Framework\\TestCase->run()\n#62 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestSuite.php(369): PHPUnit\\Framework\\TestSuite->run()\n#63 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestSuite.php(369): PHPUnit\\Framework\\TestSuite->run()\n#64 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\TextUI\\TestRunner.php(64): PHPUnit\\Framework\\TestSuite->run()\n#65 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\TextUI\\Application.php(211): PHPUnit\\TextUI\\TestRunner->run(Object(PHPUnit\\TextUI\\Configuration\\Configuration), Object(PHPUnit\\Runner\\ResultCache\\DefaultResultCache), Object(PHPUnit\\Framework\\TestSuite))\n#66 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Kernel.php(103): PHPUnit\\TextUI\\Application->run(Array)\n#67 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\bin\\pest(184): Pest\\Kernel->handle(Array, Array)\n#68 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\bin\\pest(192): {closure}()\n#69 {main}\n\nNext Illuminate\\Database\\QueryException: SQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(date, \"%Y-%m\") as month, SUM(price * quantity) as total_spent from \"invoices\" where \"date\" >= 2025-02-28 09:30:45 group by \"month\" order by \"month\" asc) in C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php:825\nStack trace:\n#0 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(779): Illuminate\\Database\\Connection->runQueryCallback('select DATE_FOR...', Array, Object(Closure))\n#1 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Connection.php(398): Illuminate\\Database\\Connection->run('select DATE_FOR...', Array, Object(Closure))\n#2 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3106): Illuminate\\Database\\Connection->select('select DATE_FOR...', Array, true)\n#3 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3091): Illuminate\\Database\\Query\\Builder->runSelect()\n#4 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3676): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()\n#5 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Query\\Builder.php(3090): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))\n#6 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(811): Illuminate\\Database\\Query\\Builder->get(Array)\n#7 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Database\\Eloquent\\Builder.php(793): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)\n#8 C:\\Users\\hamditou\\school-inventory-system\\app\\Http\\Controllers\\Api\\StatsController.php(53): Illuminate\\Database\\Eloquent\\Builder->get()\n#9 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(47): App\\Http\\Controllers\\Api\\StatsController->spending(Object(Illuminate\\Http\\Request))\n#10 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(266): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\Api\\StatsController), 'spending')\n#11 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(212): Illuminate\\Routing\\Route->runController()\n#12 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(808): Illuminate\\Routing\\Route->run()\n#13 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(170): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#14 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php(51): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#15 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#16 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php(64): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#17 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Auth\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'sanctum')\n#18 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(127): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#19 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(807): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#20 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(786): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n#21 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(750): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))\n#22 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(739): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#23 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(201): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#24 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(170): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))\n#25 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#26 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php(31): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#27 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#28 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#29 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php(51): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#30 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\TrimStrings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#31 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#32 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#33 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php(110): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#34 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#35 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\HandleCors.php(62): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#36 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Http\\Middleware\\HandleCors->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#37 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php(58): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#38 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Http\\Middleware\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#39 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks.php(22): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#40 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(209): Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#41 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php(127): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#42 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(176): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#43 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php(145): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n#44 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Testing\\Concerns\\MakesHttpRequests.php(607): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n#45 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Testing\\Concerns\\MakesHttpRequests.php(573): Illuminate\\Foundation\\Testing\\TestCase->call('GET', '\/api\/stats\/spen...', Array, Array, Array, Array, '[]')\n#46 C:\\Users\\hamditou\\school-inventory-system\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Testing\\Concerns\\MakesHttpRequests.php(381): Illuminate\\Foundation\\Testing\\TestCase->json('GET', '\/api\/stats\/spen...', Array, Array, 0)\n#47 C:\\Users\\hamditou\\school-inventory-system\\tests\\Feature\\Scenarios\\FinanceManagerScenarioTest.php(93): Illuminate\\Foundation\\Testing\\TestCase->getJson('\/api\/stats\/spen...')\n#48 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Factories\\TestCaseMethodFactory.php(168): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->{closure}()\n#49 [internal function]: P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->Pest\\Factories\\{closure}()\n#50 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Concerns\\Testable.php(419): call_user_func_array(Object(Closure), Array)\n#51 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Support\\ExceptionTrace.php(26): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->Pest\\Concerns\\{closure}()\n#52 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Concerns\\Testable.php(419): Pest\\Support\\ExceptionTrace::ensure(Object(Closure))\n#53 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Concerns\\Testable.php(321): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->__callClosure(Object(Closure), Array)\n#54 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Factories\\TestCaseFactory.php(169) : eval()'d code(17): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->__runTest(Object(Closure))\n#55 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestCase.php(1667): P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest->__pest_evaluable_finance_manager_full_workflow_scenario()\n#56 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestCase.php(519): PHPUnit\\Framework\\TestCase->runTest()\n#57 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestRunner\\TestRunner.php(87): PHPUnit\\Framework\\TestCase->runBare()\n#58 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestCase.php(365): PHPUnit\\Framework\\TestRunner->run(Object(P\\Tests\\Feature\\Scenarios\\FinanceManagerScenarioTest))\n#59 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestSuite.php(369): PHPUnit\\Framework\\TestCase->run()\n#60 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestSuite.php(369): PHPUnit\\Framework\\TestSuite->run()\n#61 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\Framework\\TestSuite.php(369): PHPUnit\\Framework\\TestSuite->run()\n#62 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\TextUI\\TestRunner.php(64): PHPUnit\\Framework\\TestSuite->run()\n#63 C:\\Users\\hamditou\\school-inventory-system\\vendor\\phpunit\\phpunit\\src\\TextUI\\Application.php(211): PHPUnit\\TextUI\\TestRunner->run(Object(PHPUnit\\TextUI\\Configuration\\Configuration), Object(PHPUnit\\Runner\\ResultCache\\DefaultResultCache), Object(PHPUnit\\Framework\\TestSuite))\n#64 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\src\\Kernel.php(103): PHPUnit\\TextUI\\Application->run(Array)\n#65 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\bin\\pest(184): Pest\\Kernel->handle(Array, Array)\n#66 C:\\Users\\hamditou\\school-inventory-system\\vendor\\pestphp\\pest\\bin\\pest(192): {closure}()\n#67 {main}\n\n----------------------------------------------------------------------------------\n\nSQLSTATE[HY000]: General error: 1 no such function: DATE_FORMAT (Connection: sqlite, SQL: select DATE_FORMAT(date, \"%Y-%m\") as month, SUM(price * quantity) as total_spent from \"invoices\" where \"date\" >= 2025-02-28 09:30:45 group by \"month\" order by \"month\" asc)\r\n\r\nat vendor\\laravel\\framework\\src\\Illuminate\\Testing\\TestResponseAssert.php:45\nat vendor\\laravel\\framework\\src\\Illuminate\\Testing\\TestResponse.php:160\nat tests\\Feature\\Scenarios\\FinanceManagerScenarioTest.php:94"
                        }
                    },
                    {
                        "@attributes": {
                            "name": "Tests\\Feature\\Scenarios\\HRManagerScenarioTest",
                            "file": "tests\\Feature\\Scenarios\\HRManagerScenarioTest.php",
                            "tests": "1",
                            "assertions": "13",
                            "errors": "0",
                            "failures": "0",
                            "skipped": "0",
                            "time": "0.134092"
                        },
                        "testcase": {
                            "@attributes": {
                                "name": "hr manager full workflow scenario",
                                "file": "tests\\Feature\\Scenarios\\HRManagerScenarioTest.php::hr manager full workflow scenario",
                                "class": "Tests\\Feature\\Scenarios\\HRManagerScenarioTest",
                                "classname": "Tests.Feature.Scenarios.HRManagerScenarioTest",
                                "assertions": "13",
                                "time": "0.134092"
                            }
                        }
                    },
                    {
                        "@attributes": {
                            "name": "Tests\\Feature\\Scenarios\\StockManagerScenarioTest",
                            "file": "tests\\Feature\\Scenarios\\StockManagerScenarioTest.php",
                            "tests": "1",
                            "assertions": "8",
                            "errors": "0",
                            "failures": "0",
                            "skipped": "0",
                            "time": "0.045527"
                        },
                        "testcase": {
                            "@attributes": {
                                "name": "stock manager full workflow scenario",
                                "file": "tests\\Feature\\Scenarios\\StockManagerScenarioTest.php::stock manager full workflow scenario",
                                "class": "Tests\\Feature\\Scenarios\\StockManagerScenarioTest",
                                "classname": "Tests.Feature.Scenarios.StockManagerScenarioTest",
                                "assertions": "8",
                                "time": "0.045527"
                            }
                        }
                    },
                    {
                        "@attributes": {
                            "name": "Tests\\Feature\\Scenarios\\TeacherScenarioTest",
                            "file": "tests\\Feature\\Scenarios\\TeacherScenarioTest.php",
                            "tests": "1",
                            "assertions": "5",
                            "errors": "0",
                            "failures": "0",
                            "skipped": "0",
                            "time": "0.026249"
                        },
                        "testcase": {
                            "@attributes": {
                                "name": "teacher full workflow scenario",
                                "file": "tests\\Feature\\Scenarios\\TeacherScenarioTest.php::teacher full workflow scenario",
                                "class": "Tests\\Feature\\Scenarios\\TeacherScenarioTest",
                                "classname": "Tests.Feature.Scenarios.TeacherScenarioTest",
                                "assertions": "5",
                                "time": "0.026249"
                            }
                        }
                    }
                ]
            }
        ]
    }
}